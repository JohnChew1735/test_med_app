{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import DoctorCard from\"../DoctorCard/DoctorCard\";import FindDoctorSearch from\"../FindDoctorSearch/FindDoctorSearch\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const BookingConsultation=()=>{const[searchTerm,setSearchTerm]=useState(\"\");const[doctors,setDoctors]=useState([]);const[filteredDoctors,setFilteredDoctors]=useState([]);// Fetch doctor data from API\nconst getDoctorsDetails=async()=>{try{const res=await fetch(\"https://api.npoint.io/9a5543d36f1460da2f63\");// replace with your API endpoint\nconst data=await res.json();setDoctors(data);setFilteredDoctors(data);// show all initially\n}catch(err){console.error(\"Error fetching doctors:\",err);}};useEffect(()=>{getDoctorsDetails();},[]);// Filter doctors by search term\nuseEffect(()=>{if(searchTerm.trim()===\"\"){setFilteredDoctors(doctors);// show all if search is empty\n}else{const filtered=doctors.filter(doctor=>doctor.name.toLowerCase().includes(searchTerm.toLowerCase())||doctor.speciality.toLowerCase().includes(searchTerm.toLowerCase()));setFilteredDoctors(filtered);}},[searchTerm,doctors]);return/*#__PURE__*/_jsxs(\"div\",{className:\"booking-consultation-container\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Book a Consultation\"}),/*#__PURE__*/_jsx(FindDoctorSearch,{searchTerm:searchTerm,setSearchTerm:setSearchTerm}),/*#__PURE__*/_jsx(\"div\",{className:\"doctor-cards-container\",children:filteredDoctors.length>0?filteredDoctors.map(doctor=>/*#__PURE__*/_jsx(DoctorCard,{name:doctor.name,speciality:doctor.speciality,experience:doctor.experience,ratings:doctor.ratings,image:doctor.image},doctor.id)):/*#__PURE__*/_jsx(\"p\",{children:\"No doctors found.\"})})]});};export default BookingConsultation;","map":{"version":3,"names":["React","useState","useEffect","DoctorCard","FindDoctorSearch","jsx","_jsx","jsxs","_jsxs","BookingConsultation","searchTerm","setSearchTerm","doctors","setDoctors","filteredDoctors","setFilteredDoctors","getDoctorsDetails","res","fetch","data","json","err","console","error","trim","filtered","filter","doctor","name","toLowerCase","includes","speciality","className","children","length","map","experience","ratings","image","id"],"sources":["/home/project/test_med_app/src/Components/BookingConsultation/BookingConsultation.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport DoctorCard from \"../DoctorCard/DoctorCard\";\nimport FindDoctorSearch from \"../FindDoctorSearch/FindDoctorSearch\";\n\nconst BookingConsultation = () => {\n  const [searchTerm, setSearchTerm] = useState(\"\"); \n  const [doctors, setDoctors] = useState([]);\n  const [filteredDoctors, setFilteredDoctors] = useState([]);\n\n  // Fetch doctor data from API\n  const getDoctorsDetails = async () => {\n    try {\n      const res = await fetch(\"https://api.npoint.io/9a5543d36f1460da2f63\"); // replace with your API endpoint\n      const data = await res.json();\n      setDoctors(data);\n      setFilteredDoctors(data); // show all initially\n    } catch (err) {\n      console.error(\"Error fetching doctors:\", err);\n    }\n  };\n\n  useEffect(() => {\n    getDoctorsDetails();\n  }, []);\n\n  // Filter doctors by search term\n  useEffect(() => {\n    if (searchTerm.trim() === \"\") {\n      setFilteredDoctors(doctors); // show all if search is empty\n    } else {\n      const filtered = doctors.filter(\n        (doctor) =>\n          doctor.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\n          doctor.speciality.toLowerCase().includes(searchTerm.toLowerCase())\n      );\n      setFilteredDoctors(filtered);\n    }\n  }, [searchTerm, doctors]);\n\n  return (\n    <div className=\"booking-consultation-container\">\n      <h1>Book a Consultation</h1>\n\n      {/* Doctor search */}\n      <FindDoctorSearch searchTerm={searchTerm} setSearchTerm={setSearchTerm} />\n\n      {/* Display doctor cards */}\n      <div className=\"doctor-cards-container\">\n        {filteredDoctors.length > 0 ? (\n          filteredDoctors.map((doctor) => (\n            <DoctorCard\n              key={doctor.id}\n              name={doctor.name}\n              speciality={doctor.speciality}\n              experience={doctor.experience}\n              ratings={doctor.ratings}\n              image={doctor.image}\n            />\n          ))\n        ) : (\n          <p>No doctors found.</p>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default BookingConsultation;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,UAAU,KAAM,0BAA0B,CACjD,MAAO,CAAAC,gBAAgB,KAAM,sCAAsC,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEpE,KAAM,CAAAC,mBAAmB,CAAGA,CAAA,GAAM,CAChC,KAAM,CAACC,UAAU,CAAEC,aAAa,CAAC,CAAGV,QAAQ,CAAC,EAAE,CAAC,CAChD,KAAM,CAACW,OAAO,CAAEC,UAAU,CAAC,CAAGZ,QAAQ,CAAC,EAAE,CAAC,CAC1C,KAAM,CAACa,eAAe,CAAEC,kBAAkB,CAAC,CAAGd,QAAQ,CAAC,EAAE,CAAC,CAE1D;AACA,KAAM,CAAAe,iBAAiB,CAAG,KAAAA,CAAA,GAAY,CACpC,GAAI,CACF,KAAM,CAAAC,GAAG,CAAG,KAAM,CAAAC,KAAK,CAAC,4CAA4C,CAAC,CAAE;AACvE,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAF,GAAG,CAACG,IAAI,CAAC,CAAC,CAC7BP,UAAU,CAACM,IAAI,CAAC,CAChBJ,kBAAkB,CAACI,IAAI,CAAC,CAAE;AAC5B,CAAE,MAAOE,GAAG,CAAE,CACZC,OAAO,CAACC,KAAK,CAAC,yBAAyB,CAAEF,GAAG,CAAC,CAC/C,CACF,CAAC,CAEDnB,SAAS,CAAC,IAAM,CACdc,iBAAiB,CAAC,CAAC,CACrB,CAAC,CAAE,EAAE,CAAC,CAEN;AACAd,SAAS,CAAC,IAAM,CACd,GAAIQ,UAAU,CAACc,IAAI,CAAC,CAAC,GAAK,EAAE,CAAE,CAC5BT,kBAAkB,CAACH,OAAO,CAAC,CAAE;AAC/B,CAAC,IAAM,CACL,KAAM,CAAAa,QAAQ,CAAGb,OAAO,CAACc,MAAM,CAC5BC,MAAM,EACLA,MAAM,CAACC,IAAI,CAACC,WAAW,CAAC,CAAC,CAACC,QAAQ,CAACpB,UAAU,CAACmB,WAAW,CAAC,CAAC,CAAC,EAC5DF,MAAM,CAACI,UAAU,CAACF,WAAW,CAAC,CAAC,CAACC,QAAQ,CAACpB,UAAU,CAACmB,WAAW,CAAC,CAAC,CACrE,CAAC,CACDd,kBAAkB,CAACU,QAAQ,CAAC,CAC9B,CACF,CAAC,CAAE,CAACf,UAAU,CAAEE,OAAO,CAAC,CAAC,CAEzB,mBACEJ,KAAA,QAAKwB,SAAS,CAAC,gCAAgC,CAAAC,QAAA,eAC7C3B,IAAA,OAAA2B,QAAA,CAAI,qBAAmB,CAAI,CAAC,cAG5B3B,IAAA,CAACF,gBAAgB,EAACM,UAAU,CAAEA,UAAW,CAACC,aAAa,CAAEA,aAAc,CAAE,CAAC,cAG1EL,IAAA,QAAK0B,SAAS,CAAC,wBAAwB,CAAAC,QAAA,CACpCnB,eAAe,CAACoB,MAAM,CAAG,CAAC,CACzBpB,eAAe,CAACqB,GAAG,CAAER,MAAM,eACzBrB,IAAA,CAACH,UAAU,EAETyB,IAAI,CAAED,MAAM,CAACC,IAAK,CAClBG,UAAU,CAAEJ,MAAM,CAACI,UAAW,CAC9BK,UAAU,CAAET,MAAM,CAACS,UAAW,CAC9BC,OAAO,CAAEV,MAAM,CAACU,OAAQ,CACxBC,KAAK,CAAEX,MAAM,CAACW,KAAM,EALfX,MAAM,CAACY,EAMb,CACF,CAAC,cAEFjC,IAAA,MAAA2B,QAAA,CAAG,mBAAiB,CAAG,CACxB,CACE,CAAC,EACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAAxB,mBAAmB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}