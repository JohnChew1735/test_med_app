{"ast":null,"code":"// src/Components/Navbar/Navbar.js\nimport React,{useEffect,useState}from\"react\";import{Link,useNavigate}from\"react-router-dom\";import ProfileCard from\"../ProfileCard/ProfileCard\";import\"./Navbar.css\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Navbar=()=>{const[user,setUser]=useState(null);const[email,setEmail]=useState(\"\");const[showDropdown,setShowDropdown]=useState(false);const navigate=useNavigate();useEffect(()=>{const storedEmail=sessionStorage.getItem(\"email\");const storedName=sessionStorage.getItem(\"name\");if(storedEmail||storedName){const displayName=storedName||(storedEmail?storedEmail.split(\"@\")[0]:\"User\");setUser(displayName);setEmail(storedEmail);}else{setUser(null);setEmail(\"\");}},[]);const handleLogout=()=>{sessionStorage.removeItem(\"auth-token\");sessionStorage.removeItem(\"email\");sessionStorage.removeItem(\"name\");sessionStorage.removeItem(\"phone\");setUser(null);navigate(\"/\");window.location.reload();};const toggleDropdown=()=>{setShowDropdown(prev=>!prev);};const goToProfile=()=>{setShowDropdown(false);// close dropdown\nnavigate(\"/profile\");// navigate to profile page\n};const goToReports=()=>{setShowDropdown(false);// close dropdown\nnavigate(\"/report\");// navigate to profile page\n};return/*#__PURE__*/_jsxs(\"nav\",{className:\"navbar\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"logo\",children:/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"MediCare\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"nav-links\",children:[/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"Home\"}),/*#__PURE__*/_jsx(Link,{to:\"/appointments\",children:\"Appointments\"}),/*#__PURE__*/_jsx(Link,{to:\"/review\",children:\"Reviews\"}),user?/*#__PURE__*/_jsxs(\"div\",{className:\"profile-dropdown\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"profile-btn\",onClick:toggleDropdown,children:[\"Hi, \",user,\" \\u25BC\"]}),showDropdown&&/*#__PURE__*/_jsxs(\"div\",{className:\"dropdown-content\",children:[/*#__PURE__*/_jsx(\"div\",{onClick:goToProfile,style:{cursor:\"pointer\"},children:/*#__PURE__*/_jsx(ProfileCard,{})}),/*#__PURE__*/_jsx(\"div\",{onClick:goToReports,style:{cursor:\"pointer\"},children:/*#__PURE__*/_jsx(\"p\",{className:\"reports_Layout\",children:\"My Reports\"})}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-logout\",onClick:handleLogout,children:\"Logout\"})]})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Link,{to:\"/signup\",className:\"btn-outline\",children:\"Sign Up\"}),/*#__PURE__*/_jsx(Link,{to:\"/login\",className:\"btn-outline\",children:\"Login\"})]})]})]});};export default Navbar;","map":{"version":3,"names":["React","useEffect","useState","Link","useNavigate","ProfileCard","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Navbar","user","setUser","email","setEmail","showDropdown","setShowDropdown","navigate","storedEmail","sessionStorage","getItem","storedName","displayName","split","handleLogout","removeItem","window","location","reload","toggleDropdown","prev","goToProfile","goToReports","className","children","to","onClick","style","cursor"],"sources":["/home/project/test_med_app/src/Components/Navbar/Navbar.js"],"sourcesContent":["// src/Components/Navbar/Navbar.js\nimport React, { useEffect, useState } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport ProfileCard from \"../ProfileCard/ProfileCard\";\nimport \"./Navbar.css\";\n\nconst Navbar = () => {\n  const [user, setUser] = useState(null);\n  const [email, setEmail] = useState(\"\");\n  const [showDropdown, setShowDropdown] = useState(false);\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    const storedEmail = sessionStorage.getItem(\"email\");\n    const storedName = sessionStorage.getItem(\"name\");\n    if (storedEmail || storedName) {\n      const displayName = storedName || (storedEmail ? storedEmail.split(\"@\")[0] : \"User\");\n      setUser(displayName);\n      setEmail(storedEmail);\n    } else {\n      setUser(null);\n      setEmail(\"\");\n    }\n  }, []);\n\n  const handleLogout = () => {\n    sessionStorage.removeItem(\"auth-token\");\n    sessionStorage.removeItem(\"email\");\n    sessionStorage.removeItem(\"name\");\n    sessionStorage.removeItem(\"phone\");\n    setUser(null);\n    navigate(\"/\");\n    window.location.reload();\n  };\n\n  const toggleDropdown = () => {\n    setShowDropdown((prev) => !prev);\n  };\n\n  const goToProfile = () => {\n    setShowDropdown(false); // close dropdown\n    navigate(\"/profile\");   // navigate to profile page\n  };\n\n    const goToReports = () => {\n        setShowDropdown(false); // close dropdown\n        navigate(\"/report\");   // navigate to profile page\n    };\n\n  return (\n    <nav className=\"navbar\">\n      <div className=\"logo\">\n        <Link to=\"/\">MediCare</Link>\n      </div>\n\n      <div className=\"nav-links\">\n        <Link to=\"/\">Home</Link>\n        <Link to=\"/appointments\">Appointments</Link>\n        <Link to=\"/review\">Reviews</Link>\n\n        {user ? (\n          <div className=\"profile-dropdown\">\n            <button className=\"profile-btn\" onClick={toggleDropdown}>\n              Hi, {user} â–¼\n            </button>\n\n            {showDropdown && (\n              <div className=\"dropdown-content\">\n                {/* Make ProfileCard clickable */}\n                <div onClick={goToProfile} style={{ cursor: \"pointer\" }}>\n                  <ProfileCard/>\n                </div>\n                <div onClick={goToReports} style={{ cursor: \"pointer\" }}>\n                  <p className=\"reports_Layout\">My Reports</p>\n                </div>\n\n                <button className=\"btn-logout\" onClick={handleLogout}>\n                  Logout\n                </button>\n              </div>\n            )}\n          </div>\n        ) : (\n          <>\n            <Link to=\"/signup\" className=\"btn-outline\">\n              Sign Up\n            </Link>\n            <Link to=\"/login\" className=\"btn-outline\">\n              Login\n            </Link>\n          </>\n        )}\n      </div>\n    </nav>\n  );\n};\n\nexport default Navbar;\n"],"mappings":"AAAA;AACA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,IAAI,CAAEC,WAAW,KAAQ,kBAAkB,CACpD,MAAO,CAAAC,WAAW,KAAM,4BAA4B,CACpD,MAAO,cAAc,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAEtB,KAAM,CAAAC,MAAM,CAAGA,CAAA,GAAM,CACnB,KAAM,CAACC,IAAI,CAAEC,OAAO,CAAC,CAAGZ,QAAQ,CAAC,IAAI,CAAC,CACtC,KAAM,CAACa,KAAK,CAAEC,QAAQ,CAAC,CAAGd,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACe,YAAY,CAAEC,eAAe,CAAC,CAAGhB,QAAQ,CAAC,KAAK,CAAC,CACvD,KAAM,CAAAiB,QAAQ,CAAGf,WAAW,CAAC,CAAC,CAE9BH,SAAS,CAAC,IAAM,CACd,KAAM,CAAAmB,WAAW,CAAGC,cAAc,CAACC,OAAO,CAAC,OAAO,CAAC,CACnD,KAAM,CAAAC,UAAU,CAAGF,cAAc,CAACC,OAAO,CAAC,MAAM,CAAC,CACjD,GAAIF,WAAW,EAAIG,UAAU,CAAE,CAC7B,KAAM,CAAAC,WAAW,CAAGD,UAAU,GAAKH,WAAW,CAAGA,WAAW,CAACK,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAG,MAAM,CAAC,CACpFX,OAAO,CAACU,WAAW,CAAC,CACpBR,QAAQ,CAACI,WAAW,CAAC,CACvB,CAAC,IAAM,CACLN,OAAO,CAAC,IAAI,CAAC,CACbE,QAAQ,CAAC,EAAE,CAAC,CACd,CACF,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAU,YAAY,CAAGA,CAAA,GAAM,CACzBL,cAAc,CAACM,UAAU,CAAC,YAAY,CAAC,CACvCN,cAAc,CAACM,UAAU,CAAC,OAAO,CAAC,CAClCN,cAAc,CAACM,UAAU,CAAC,MAAM,CAAC,CACjCN,cAAc,CAACM,UAAU,CAAC,OAAO,CAAC,CAClCb,OAAO,CAAC,IAAI,CAAC,CACbK,QAAQ,CAAC,GAAG,CAAC,CACbS,MAAM,CAACC,QAAQ,CAACC,MAAM,CAAC,CAAC,CAC1B,CAAC,CAED,KAAM,CAAAC,cAAc,CAAGA,CAAA,GAAM,CAC3Bb,eAAe,CAAEc,IAAI,EAAK,CAACA,IAAI,CAAC,CAClC,CAAC,CAED,KAAM,CAAAC,WAAW,CAAGA,CAAA,GAAM,CACxBf,eAAe,CAAC,KAAK,CAAC,CAAE;AACxBC,QAAQ,CAAC,UAAU,CAAC,CAAI;AAC1B,CAAC,CAEC,KAAM,CAAAe,WAAW,CAAGA,CAAA,GAAM,CACtBhB,eAAe,CAAC,KAAK,CAAC,CAAE;AACxBC,QAAQ,CAAC,SAAS,CAAC,CAAI;AAC3B,CAAC,CAEH,mBACEV,KAAA,QAAK0B,SAAS,CAAC,QAAQ,CAAAC,QAAA,eACrB7B,IAAA,QAAK4B,SAAS,CAAC,MAAM,CAAAC,QAAA,cACnB7B,IAAA,CAACJ,IAAI,EAACkC,EAAE,CAAC,GAAG,CAAAD,QAAA,CAAC,UAAQ,CAAM,CAAC,CACzB,CAAC,cAEN3B,KAAA,QAAK0B,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxB7B,IAAA,CAACJ,IAAI,EAACkC,EAAE,CAAC,GAAG,CAAAD,QAAA,CAAC,MAAI,CAAM,CAAC,cACxB7B,IAAA,CAACJ,IAAI,EAACkC,EAAE,CAAC,eAAe,CAAAD,QAAA,CAAC,cAAY,CAAM,CAAC,cAC5C7B,IAAA,CAACJ,IAAI,EAACkC,EAAE,CAAC,SAAS,CAAAD,QAAA,CAAC,SAAO,CAAM,CAAC,CAEhCvB,IAAI,cACHJ,KAAA,QAAK0B,SAAS,CAAC,kBAAkB,CAAAC,QAAA,eAC/B3B,KAAA,WAAQ0B,SAAS,CAAC,aAAa,CAACG,OAAO,CAAEP,cAAe,CAAAK,QAAA,EAAC,MACnD,CAACvB,IAAI,CAAC,SACZ,EAAQ,CAAC,CAERI,YAAY,eACXR,KAAA,QAAK0B,SAAS,CAAC,kBAAkB,CAAAC,QAAA,eAE/B7B,IAAA,QAAK+B,OAAO,CAAEL,WAAY,CAACM,KAAK,CAAE,CAAEC,MAAM,CAAE,SAAU,CAAE,CAAAJ,QAAA,cACtD7B,IAAA,CAACF,WAAW,GAAC,CAAC,CACX,CAAC,cACNE,IAAA,QAAK+B,OAAO,CAAEJ,WAAY,CAACK,KAAK,CAAE,CAAEC,MAAM,CAAE,SAAU,CAAE,CAAAJ,QAAA,cACtD7B,IAAA,MAAG4B,SAAS,CAAC,gBAAgB,CAAAC,QAAA,CAAC,YAAU,CAAG,CAAC,CACzC,CAAC,cAEN7B,IAAA,WAAQ4B,SAAS,CAAC,YAAY,CAACG,OAAO,CAAEZ,YAAa,CAAAU,QAAA,CAAC,QAEtD,CAAQ,CAAC,EACN,CACN,EACE,CAAC,cAEN3B,KAAA,CAAAE,SAAA,EAAAyB,QAAA,eACE7B,IAAA,CAACJ,IAAI,EAACkC,EAAE,CAAC,SAAS,CAACF,SAAS,CAAC,aAAa,CAAAC,QAAA,CAAC,SAE3C,CAAM,CAAC,cACP7B,IAAA,CAACJ,IAAI,EAACkC,EAAE,CAAC,QAAQ,CAACF,SAAS,CAAC,aAAa,CAAAC,QAAA,CAAC,OAE1C,CAAM,CAAC,EACP,CACH,EACE,CAAC,EACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAAxB,MAAM","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}