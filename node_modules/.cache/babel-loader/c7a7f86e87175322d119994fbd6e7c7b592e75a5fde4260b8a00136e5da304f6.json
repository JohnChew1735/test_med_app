{"ast":null,"code":"import React,{useState}from\"react\";import{Link,useNavigate}from\"react-router-dom\";import{API_URL}from\"../../config\";import\"./Sign_Up.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Sign_Up=()=>{const[name,setName]=useState(\"\");const[phone,setPhone]=useState(\"\");const[email,setEmail]=useState(\"\");const[password,setPassword]=useState(\"\");const[err,setErr]=useState(\"\");const navigate=useNavigate();const validate=()=>{if(!name.trim())return\"Name is required\";if(!/^\\d{10}$/.test(phone))return\"Phone must be exactly 10 digits\";if(!/\\S+@\\S+\\.\\S+/.test(email))return\"Invalid email address\";if(password.length<6)return\"Password must be at least 6 characters\";return null;};const register=async e=>{e.preventDefault();setErr(\"\");const v=validate();if(v){setErr(v);return;}try{const response=await fetch(\"\".concat(API_URL,\"/api/auth/register\"),{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({name,email,password,phone})});const json=await response.json();if(json.authtoken){sessionStorage.setItem(\"auth-token\",json.authtoken);sessionStorage.setItem(\"name\",name);sessionStorage.setItem(\"email\",email);sessionStorage.setItem(\"phone\",phone);navigate(\"/\");window.location.reload();}else{// show server validation errors in friendly way\nif(json.errors)setErr(json.errors.map(e=>e.msg).join(\", \"));else setErr(json.error||\"Registration failed\");}}catch(error){setErr(\"Unable to contact server. Try again later.\");console.error(error);}};return/*#__PURE__*/_jsx(\"div\",{className:\"container\",style:{marginTop:\"5%\"},children:/*#__PURE__*/_jsxs(\"div\",{className:\"signup-grid\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"signup-text\",children:/*#__PURE__*/_jsx(\"h1\",{children:\"Sign Up\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"signup-text1\",style:{textAlign:\"left\"},children:[\"Already a member? \",/*#__PURE__*/_jsx(Link,{to:\"/login\",style:{color:\"#2190FF\"},children:\"Login\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"signup-form\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:register,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"name\",children:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{id:\"name\",className:\"form-control\",required:true,value:name,onChange:e=>setName(e.target.value),placeholder:\"Enter your name\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"phone\",children:\"Phone\"}),/*#__PURE__*/_jsx(\"input\",{id:\"phone\",className:\"form-control\",required:true,value:phone,onChange:e=>setPhone(e.target.value),placeholder:\"Enter your phone number\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{id:\"email\",type:\"email\",className:\"form-control\",required:true,value:email,onChange:e=>setEmail(e.target.value),placeholder:\"Enter your email\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{id:\"password\",type:\"password\",className:\"form-control\",required:true,value:password,onChange:e=>setPassword(e.target.value),placeholder:\"Enter your password\"})]}),err&&/*#__PURE__*/_jsx(\"div\",{className:\"err\",style:{color:\"red\",marginBottom:10},children:err}),/*#__PURE__*/_jsxs(\"div\",{className:\"btn-group\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",children:\"Submit\"}),/*#__PURE__*/_jsx(\"button\",{type:\"reset\",className:\"btn btn-danger\",onClick:()=>{setName(\"\");setPhone(\"\");setEmail(\"\");setPassword(\"\");setErr(\"\");},children:\"Reset\"})]})]})})]})});};export default Sign_Up;","map":{"version":3,"names":["React","useState","Link","useNavigate","API_URL","jsx","_jsx","jsxs","_jsxs","Sign_Up","name","setName","phone","setPhone","email","setEmail","password","setPassword","err","setErr","navigate","validate","trim","test","length","register","e","preventDefault","v","response","fetch","concat","method","headers","body","JSON","stringify","json","authtoken","sessionStorage","setItem","window","location","reload","errors","map","msg","join","error","console","className","style","marginTop","children","textAlign","to","color","onSubmit","htmlFor","id","required","value","onChange","target","placeholder","type","marginBottom","onClick"],"sources":["/home/project/test_med_app/src/Components/Sign_up/Sign_Up.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { API_URL } from \"../../config\";\nimport \"./Sign_Up.css\";\n\nconst Sign_Up = () => {\n  const [name, setName] = useState(\"\");\n  const [phone, setPhone] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [err, setErr] = useState(\"\");\n  const navigate = useNavigate();\n\n  const validate = () => {\n    if (!name.trim()) return \"Name is required\";\n    if (!/^\\d{10}$/.test(phone)) return \"Phone must be exactly 10 digits\";\n    if (!/\\S+@\\S+\\.\\S+/.test(email)) return \"Invalid email address\";\n    if (password.length < 6) return \"Password must be at least 6 characters\";\n    return null;\n  };\n\n  const register = async (e) => {\n    e.preventDefault();\n    setErr(\"\");\n    const v = validate();\n    if (v) {\n      setErr(v);\n      return;\n    }\n\n    try {\n      const response = await fetch(`${API_URL}/api/auth/register`, {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ name, email, password, phone }),\n      });\n      const json = await response.json();\n\n      if (json.authtoken) {\n        sessionStorage.setItem(\"auth-token\", json.authtoken);\n        sessionStorage.setItem(\"name\", name);\n        sessionStorage.setItem(\"email\", email);\n        sessionStorage.setItem(\"phone\", phone);\n\n        navigate(\"/\");\n        window.location.reload();\n      } else {\n        // show server validation errors in friendly way\n        if (json.errors) setErr(json.errors.map((e) => e.msg).join(\", \"));\n        else setErr(json.error || \"Registration failed\");\n      }\n    } catch (error) {\n      setErr(\"Unable to contact server. Try again later.\");\n      console.error(error);\n    }\n  };\n\n  return (\n    <div className=\"container\" style={{ marginTop: \"5%\" }}>\n      <div className=\"signup-grid\">\n        <div className=\"signup-text\"><h1>Sign Up</h1></div>\n        <div className=\"signup-text1\" style={{ textAlign: \"left\" }}>\n          Already a member? <Link to=\"/login\" style={{ color: \"#2190FF\" }}>Login</Link>\n        </div>\n\n        <div className=\"signup-form\">\n          <form onSubmit={register}>\n            <div className=\"form-group\">\n              <label htmlFor=\"name\">Name</label>\n              <input id=\"name\" className=\"form-control\" required value={name} onChange={(e) => setName(e.target.value)} placeholder=\"Enter your name\"/>\n            </div>\n\n            <div className=\"form-group\">\n              <label htmlFor=\"phone\">Phone</label>\n              <input id=\"phone\" className=\"form-control\" required value={phone} onChange={(e) => setPhone(e.target.value)} placeholder=\"Enter your phone number\"/>\n            </div>\n\n            <div className=\"form-group\">\n              <label htmlFor=\"email\">Email</label>\n              <input id=\"email\" type=\"email\" className=\"form-control\" required value={email} onChange={(e) => setEmail(e.target.value)} placeholder=\"Enter your email\"/>\n            </div>\n\n            <div className=\"form-group\">\n              <label htmlFor=\"password\">Password</label>\n              <input id=\"password\" type=\"password\" className=\"form-control\" required value={password} onChange={(e) => setPassword(e.target.value)} placeholder=\"Enter your password\"/>\n            </div>\n\n            {err && <div className=\"err\" style={{ color: \"red\", marginBottom: 10 }}>{err}</div>}\n\n            <div className=\"btn-group\">\n              <button type=\"submit\" className=\"btn btn-primary\">Submit</button>\n              <button type=\"reset\" className=\"btn btn-danger\" onClick={() => { setName(\"\"); setPhone(\"\"); setEmail(\"\"); setPassword(\"\"); setErr(\"\"); }}>Reset</button>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Sign_Up;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,IAAI,CAAEC,WAAW,KAAQ,kBAAkB,CACpD,OAASC,OAAO,KAAQ,cAAc,CACtC,MAAO,eAAe,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEvB,KAAM,CAAAC,OAAO,CAAGA,CAAA,GAAM,CACpB,KAAM,CAACC,IAAI,CAAEC,OAAO,CAAC,CAAGV,QAAQ,CAAC,EAAE,CAAC,CACpC,KAAM,CAACW,KAAK,CAAEC,QAAQ,CAAC,CAAGZ,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACa,KAAK,CAAEC,QAAQ,CAAC,CAAGd,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACe,QAAQ,CAAEC,WAAW,CAAC,CAAGhB,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACiB,GAAG,CAAEC,MAAM,CAAC,CAAGlB,QAAQ,CAAC,EAAE,CAAC,CAClC,KAAM,CAAAmB,QAAQ,CAAGjB,WAAW,CAAC,CAAC,CAE9B,KAAM,CAAAkB,QAAQ,CAAGA,CAAA,GAAM,CACrB,GAAI,CAACX,IAAI,CAACY,IAAI,CAAC,CAAC,CAAE,MAAO,kBAAkB,CAC3C,GAAI,CAAC,UAAU,CAACC,IAAI,CAACX,KAAK,CAAC,CAAE,MAAO,iCAAiC,CACrE,GAAI,CAAC,cAAc,CAACW,IAAI,CAACT,KAAK,CAAC,CAAE,MAAO,uBAAuB,CAC/D,GAAIE,QAAQ,CAACQ,MAAM,CAAG,CAAC,CAAE,MAAO,wCAAwC,CACxE,MAAO,KAAI,CACb,CAAC,CAED,KAAM,CAAAC,QAAQ,CAAG,KAAO,CAAAC,CAAC,EAAK,CAC5BA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClBR,MAAM,CAAC,EAAE,CAAC,CACV,KAAM,CAAAS,CAAC,CAAGP,QAAQ,CAAC,CAAC,CACpB,GAAIO,CAAC,CAAE,CACLT,MAAM,CAACS,CAAC,CAAC,CACT,OACF,CAEA,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,IAAAC,MAAA,CAAI3B,OAAO,uBAAsB,CAC3D4B,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CAAE,cAAc,CAAE,kBAAmB,CAAC,CAC/CC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CAAE1B,IAAI,CAAEI,KAAK,CAAEE,QAAQ,CAAEJ,KAAM,CAAC,CACvD,CAAC,CAAC,CACF,KAAM,CAAAyB,IAAI,CAAG,KAAM,CAAAR,QAAQ,CAACQ,IAAI,CAAC,CAAC,CAElC,GAAIA,IAAI,CAACC,SAAS,CAAE,CAClBC,cAAc,CAACC,OAAO,CAAC,YAAY,CAAEH,IAAI,CAACC,SAAS,CAAC,CACpDC,cAAc,CAACC,OAAO,CAAC,MAAM,CAAE9B,IAAI,CAAC,CACpC6B,cAAc,CAACC,OAAO,CAAC,OAAO,CAAE1B,KAAK,CAAC,CACtCyB,cAAc,CAACC,OAAO,CAAC,OAAO,CAAE5B,KAAK,CAAC,CAEtCQ,QAAQ,CAAC,GAAG,CAAC,CACbqB,MAAM,CAACC,QAAQ,CAACC,MAAM,CAAC,CAAC,CAC1B,CAAC,IAAM,CACL;AACA,GAAIN,IAAI,CAACO,MAAM,CAAEzB,MAAM,CAACkB,IAAI,CAACO,MAAM,CAACC,GAAG,CAAEnB,CAAC,EAAKA,CAAC,CAACoB,GAAG,CAAC,CAACC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,IAC7D,CAAA5B,MAAM,CAACkB,IAAI,CAACW,KAAK,EAAI,qBAAqB,CAAC,CAClD,CACF,CAAE,MAAOA,KAAK,CAAE,CACd7B,MAAM,CAAC,4CAA4C,CAAC,CACpD8B,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC,CACtB,CACF,CAAC,CAED,mBACE1C,IAAA,QAAK4C,SAAS,CAAC,WAAW,CAACC,KAAK,CAAE,CAAEC,SAAS,CAAE,IAAK,CAAE,CAAAC,QAAA,cACpD7C,KAAA,QAAK0C,SAAS,CAAC,aAAa,CAAAG,QAAA,eAC1B/C,IAAA,QAAK4C,SAAS,CAAC,aAAa,CAAAG,QAAA,cAAC/C,IAAA,OAAA+C,QAAA,CAAI,SAAO,CAAI,CAAC,CAAK,CAAC,cACnD7C,KAAA,QAAK0C,SAAS,CAAC,cAAc,CAACC,KAAK,CAAE,CAAEG,SAAS,CAAE,MAAO,CAAE,CAAAD,QAAA,EAAC,oBACxC,cAAA/C,IAAA,CAACJ,IAAI,EAACqD,EAAE,CAAC,QAAQ,CAACJ,KAAK,CAAE,CAAEK,KAAK,CAAE,SAAU,CAAE,CAAAH,QAAA,CAAC,OAAK,CAAM,CAAC,EAC1E,CAAC,cAEN/C,IAAA,QAAK4C,SAAS,CAAC,aAAa,CAAAG,QAAA,cAC1B7C,KAAA,SAAMiD,QAAQ,CAAEhC,QAAS,CAAA4B,QAAA,eACvB7C,KAAA,QAAK0C,SAAS,CAAC,YAAY,CAAAG,QAAA,eACzB/C,IAAA,UAAOoD,OAAO,CAAC,MAAM,CAAAL,QAAA,CAAC,MAAI,CAAO,CAAC,cAClC/C,IAAA,UAAOqD,EAAE,CAAC,MAAM,CAACT,SAAS,CAAC,cAAc,CAACU,QAAQ,MAACC,KAAK,CAAEnD,IAAK,CAACoD,QAAQ,CAAGpC,CAAC,EAAKf,OAAO,CAACe,CAAC,CAACqC,MAAM,CAACF,KAAK,CAAE,CAACG,WAAW,CAAC,iBAAiB,CAAC,CAAC,EACtI,CAAC,cAENxD,KAAA,QAAK0C,SAAS,CAAC,YAAY,CAAAG,QAAA,eACzB/C,IAAA,UAAOoD,OAAO,CAAC,OAAO,CAAAL,QAAA,CAAC,OAAK,CAAO,CAAC,cACpC/C,IAAA,UAAOqD,EAAE,CAAC,OAAO,CAACT,SAAS,CAAC,cAAc,CAACU,QAAQ,MAACC,KAAK,CAAEjD,KAAM,CAACkD,QAAQ,CAAGpC,CAAC,EAAKb,QAAQ,CAACa,CAAC,CAACqC,MAAM,CAACF,KAAK,CAAE,CAACG,WAAW,CAAC,yBAAyB,CAAC,CAAC,EACjJ,CAAC,cAENxD,KAAA,QAAK0C,SAAS,CAAC,YAAY,CAAAG,QAAA,eACzB/C,IAAA,UAAOoD,OAAO,CAAC,OAAO,CAAAL,QAAA,CAAC,OAAK,CAAO,CAAC,cACpC/C,IAAA,UAAOqD,EAAE,CAAC,OAAO,CAACM,IAAI,CAAC,OAAO,CAACf,SAAS,CAAC,cAAc,CAACU,QAAQ,MAACC,KAAK,CAAE/C,KAAM,CAACgD,QAAQ,CAAGpC,CAAC,EAAKX,QAAQ,CAACW,CAAC,CAACqC,MAAM,CAACF,KAAK,CAAE,CAACG,WAAW,CAAC,kBAAkB,CAAC,CAAC,EACvJ,CAAC,cAENxD,KAAA,QAAK0C,SAAS,CAAC,YAAY,CAAAG,QAAA,eACzB/C,IAAA,UAAOoD,OAAO,CAAC,UAAU,CAAAL,QAAA,CAAC,UAAQ,CAAO,CAAC,cAC1C/C,IAAA,UAAOqD,EAAE,CAAC,UAAU,CAACM,IAAI,CAAC,UAAU,CAACf,SAAS,CAAC,cAAc,CAACU,QAAQ,MAACC,KAAK,CAAE7C,QAAS,CAAC8C,QAAQ,CAAGpC,CAAC,EAAKT,WAAW,CAACS,CAAC,CAACqC,MAAM,CAACF,KAAK,CAAE,CAACG,WAAW,CAAC,qBAAqB,CAAC,CAAC,EACtK,CAAC,CAEL9C,GAAG,eAAIZ,IAAA,QAAK4C,SAAS,CAAC,KAAK,CAACC,KAAK,CAAE,CAAEK,KAAK,CAAE,KAAK,CAAEU,YAAY,CAAE,EAAG,CAAE,CAAAb,QAAA,CAAEnC,GAAG,CAAM,CAAC,cAEnFV,KAAA,QAAK0C,SAAS,CAAC,WAAW,CAAAG,QAAA,eACxB/C,IAAA,WAAQ2D,IAAI,CAAC,QAAQ,CAACf,SAAS,CAAC,iBAAiB,CAAAG,QAAA,CAAC,QAAM,CAAQ,CAAC,cACjE/C,IAAA,WAAQ2D,IAAI,CAAC,OAAO,CAACf,SAAS,CAAC,gBAAgB,CAACiB,OAAO,CAAEA,CAAA,GAAM,CAAExD,OAAO,CAAC,EAAE,CAAC,CAAEE,QAAQ,CAAC,EAAE,CAAC,CAAEE,QAAQ,CAAC,EAAE,CAAC,CAAEE,WAAW,CAAC,EAAE,CAAC,CAAEE,MAAM,CAAC,EAAE,CAAC,CAAE,CAAE,CAAAkC,QAAA,CAAC,OAAK,CAAQ,CAAC,EACrJ,CAAC,EACF,CAAC,CACJ,CAAC,EACH,CAAC,CACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAA5C,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}