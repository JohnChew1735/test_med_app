{"ast":null,"code":"var _jsxFileName = \"/home/project/test_med_app/src/Components/BookingConsultation/BookingConsultation.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport DoctorCard from \"../DoctorCard/DoctorCard\";\nimport FindDoctorSearch from \"../FindDoctorSearch/FindDoctorSearch\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst BookingConsultation = () => {\n  _s();\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [doctors, setDoctors] = useState([]);\n  const [filteredDoctors, setFilteredDoctors] = useState([]);\n  const [bookings, setBookings] = useState([]);\n\n  // ✅ Fetch doctor data\n  const getDoctorsDetails = async () => {\n    try {\n      const res = await fetch(\"https://api.npoint.io/9a5543d36f1460da2f63\");\n      const data = await res.json();\n      setDoctors(data);\n      setFilteredDoctors(data);\n    } catch (err) {\n      console.error(\"Error fetching doctors:\", err);\n    }\n  };\n\n  // ✅ Load doctors + saved bookings\n  useEffect(() => {\n    getDoctorsDetails();\n    const savedBookings = JSON.parse(localStorage.getItem(\"appointments\")) || [];\n    setBookings(savedBookings);\n  }, []);\n\n  // ✅ Save bookings whenever they change\n  useEffect(() => {\n    localStorage.setItem(\"appointments\", JSON.stringify(bookings));\n  }, [bookings]);\n\n  // ✅ Handle doctor booking\n  const handleBookDoctor = doctor => {\n    const patientName = prompt(\"Enter your name:\");\n    const phoneNumber = prompt(\"Enter your phone number:\");\n    const date = prompt(\"Enter appointment date (e.g., 2025-10-15):\");\n    const time = prompt(\"Enter appointment time (e.g., 10:00 AM):\");\n    if (!patientName || !phoneNumber || !date || !time) {\n      alert(\"⚠️ Please fill in all appointment details.\");\n      return;\n    }\n    const newAppointment = {\n      id: Date.now(),\n      doctor,\n      patientName,\n      phoneNumber,\n      date,\n      time\n    };\n    setBookings(prev => [...prev, newAppointment]);\n    alert(`✅ Appointment booked with Dr. ${doctor.name}`);\n  };\n\n  // ✅ Filter doctors based on search\n  useEffect(() => {\n    if (searchTerm.trim() === \"\") {\n      setFilteredDoctors(doctors);\n    } else {\n      const filtered = doctors.filter(doctor => doctor.name.toLowerCase().includes(searchTerm.toLowerCase()) || doctor.speciality.toLowerCase().includes(searchTerm.toLowerCase()));\n      setFilteredDoctors(filtered);\n    }\n  }, [searchTerm, doctors]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"booking-consultation-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Book a Consultation\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(FindDoctorSearch, {\n      searchTerm: searchTerm,\n      setSearchTerm: setSearchTerm\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"doctor-cards-container\",\n      children: filteredDoctors.length > 0 ? filteredDoctors.map(doctor => /*#__PURE__*/_jsxDEV(DoctorCard, {\n        name: doctor.name,\n        speciality: doctor.speciality,\n        experience: doctor.experience,\n        ratings: doctor.ratings,\n        image: doctor.image,\n        onBook: () => handleBookDoctor(doctor) // ✅ pass book handler\n      }, doctor.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 13\n      }, this)) : /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"No doctors found.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"booked-appointments\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Your Appointments\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }, this), bookings.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"No appointments yet.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: bookings.map(b => /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: b.patientName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 17\n          }, this), \" booked \", /*#__PURE__*/_jsxDEV(\"em\", {\n            children: b.doctor.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 57\n          }, this), \" \\u2014\", \" \", b.date, \" at \", b.time]\n        }, b.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 76,\n    columnNumber: 5\n  }, this);\n};\n_s(BookingConsultation, \"nmaHkUpIo0/P1nnCNkXPA72PSm0=\");\n_c = BookingConsultation;\nexport default BookingConsultation;\nvar _c;\n$RefreshReg$(_c, \"BookingConsultation\");","map":{"version":3,"names":["React","useState","useEffect","DoctorCard","FindDoctorSearch","jsxDEV","_jsxDEV","BookingConsultation","_s","searchTerm","setSearchTerm","doctors","setDoctors","filteredDoctors","setFilteredDoctors","bookings","setBookings","getDoctorsDetails","res","fetch","data","json","err","console","error","savedBookings","JSON","parse","localStorage","getItem","setItem","stringify","handleBookDoctor","doctor","patientName","prompt","phoneNumber","date","time","alert","newAppointment","id","Date","now","prev","name","trim","filtered","filter","toLowerCase","includes","speciality","className","children","fileName","_jsxFileName","lineNumber","columnNumber","length","map","experience","ratings","image","onBook","b","_c","$RefreshReg$"],"sources":["/home/project/test_med_app/src/Components/BookingConsultation/BookingConsultation.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport DoctorCard from \"../DoctorCard/DoctorCard\";\nimport FindDoctorSearch from \"../FindDoctorSearch/FindDoctorSearch\";\n\nconst BookingConsultation = () => {\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [doctors, setDoctors] = useState([]);\n  const [filteredDoctors, setFilteredDoctors] = useState([]);\n  const [bookings, setBookings] = useState([]);\n\n  // ✅ Fetch doctor data\n  const getDoctorsDetails = async () => {\n    try {\n      const res = await fetch(\"https://api.npoint.io/9a5543d36f1460da2f63\");\n      const data = await res.json();\n      setDoctors(data);\n      setFilteredDoctors(data);\n    } catch (err) {\n      console.error(\"Error fetching doctors:\", err);\n    }\n  };\n\n  // ✅ Load doctors + saved bookings\n  useEffect(() => {\n    getDoctorsDetails();\n\n    const savedBookings = JSON.parse(localStorage.getItem(\"appointments\")) || [];\n    setBookings(savedBookings);\n  }, []);\n\n  // ✅ Save bookings whenever they change\n  useEffect(() => {\n    localStorage.setItem(\"appointments\", JSON.stringify(bookings));\n  }, [bookings]);\n\n  // ✅ Handle doctor booking\n  const handleBookDoctor = (doctor) => {\n    const patientName = prompt(\"Enter your name:\");\n    const phoneNumber = prompt(\"Enter your phone number:\");\n    const date = prompt(\"Enter appointment date (e.g., 2025-10-15):\");\n    const time = prompt(\"Enter appointment time (e.g., 10:00 AM):\");\n\n    if (!patientName || !phoneNumber || !date || !time) {\n      alert(\"⚠️ Please fill in all appointment details.\");\n      return;\n    }\n\n    const newAppointment = {\n      id: Date.now(),\n      doctor,\n      patientName,\n      phoneNumber,\n      date,\n      time,\n    };\n\n    setBookings((prev) => [...prev, newAppointment]);\n    alert(`✅ Appointment booked with Dr. ${doctor.name}`);\n  };\n\n  // ✅ Filter doctors based on search\n  useEffect(() => {\n    if (searchTerm.trim() === \"\") {\n      setFilteredDoctors(doctors);\n    } else {\n      const filtered = doctors.filter(\n        (doctor) =>\n          doctor.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\n          doctor.speciality.toLowerCase().includes(searchTerm.toLowerCase())\n      );\n      setFilteredDoctors(filtered);\n    }\n  }, [searchTerm, doctors]);\n\n  return (\n    <div className=\"booking-consultation-container\">\n      <h1>Book a Consultation</h1>\n\n      {/* Search bar */}\n      <FindDoctorSearch searchTerm={searchTerm} setSearchTerm={setSearchTerm} />\n\n      {/* Doctor list */}\n      <div className=\"doctor-cards-container\">\n        {filteredDoctors.length > 0 ? (\n          filteredDoctors.map((doctor) => (\n            <DoctorCard\n              key={doctor.id}\n              name={doctor.name}\n              speciality={doctor.speciality}\n              experience={doctor.experience}\n              ratings={doctor.ratings}\n              image={doctor.image}\n              onBook={() => handleBookDoctor(doctor)} // ✅ pass book handler\n            />\n          ))\n        ) : (\n          <p>No doctors found.</p>\n        )}\n      </div>\n\n      {/* Show all booked appointments */}\n      <div className=\"booked-appointments\">\n        <h2>Your Appointments</h2>\n        {bookings.length === 0 ? (\n          <p>No appointments yet.</p>\n        ) : (\n          <ul>\n            {bookings.map((b) => (\n              <li key={b.id}>\n                <strong>{b.patientName}</strong> booked <em>{b.doctor.name}</em> —{\" \"}\n                {b.date} at {b.time}\n              </li>\n            ))}\n          </ul>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default BookingConsultation;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}